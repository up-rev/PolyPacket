cmake_minimum_required(VERSION 2.6)

include_directories("MrT/Modules")
include_directories("src")
include_directories("src/lib")

add_definitions(
    -g
    -DMRT_PLATFORM_NONE
    -DPOLY_PACKET_DEBUG_LVL=1
    )

#SET(CMAKE_C_FLAGS "-fsanitize=address -fsanitize=undefined")

SET(CMAKE_C_FLAGS "-Wformat=0")

add_subdirectory(MrT/Modules/Utilities/PolyPacket)
add_subdirectory(MrT/Modules/Platforms/Linux)


add_library(
  ${proto.fileName}_lib
  src/lib/${proto.fileName}.c
  )


add_executable(
  ${proto.name}_util
  src/main.c
  src/app_${proto.name.lower()}.c
  )

target_link_libraries(${proto.fileName}_lib PolyPacket mrtLinux)

target_link_libraries(${proto.name}_util ${proto.fileName}_lib )
